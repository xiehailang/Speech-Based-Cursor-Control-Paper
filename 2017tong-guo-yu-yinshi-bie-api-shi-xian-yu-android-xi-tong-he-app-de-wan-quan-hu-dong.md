# 通过语音识别API实现与Android系统和应用程序的高度交互

**摘要**      移动设备[^1]，像智能手机和平板电脑等，已经成为人们日常生活中不可或缺的物品。在大多数情况下，通过触摸屏幕与移动设备进行交互的效率很高。但是，对于双手正在忙碌或双手具有残疾的人来说，这种交互模式可能导致人们无法正常使用。在这种情况下，使用语音命令来控制设备，可能是最佳的解决方案。虽然有些设备已经提供了这种功能，但它仅限于系统预先定义的某些功能。本文的主要目标是开发一个基于Android系统的集成语音识别API的应用程序，该程序可以通过语音命令与安卓设备进行高度的交互。我们将该程序进行了一系列测试，结果显示该程序的交互效率高达95％，说明该程序可与安卓设备中安装的任何应用程序进行高度互动。

**关键词**      Android    辅助功能    语音识别

## 1.引言

今天，智能手机、平板电脑等移动设备已经成为人们日常生活中不可或缺的物品。在这些设备中，Android系统是最常用的操作系统之一，它的人机交互形式有着一个相对统一的标准，即几乎完全是通过触摸屏幕来执行操作。这种交互模式被证明是非常高效的，能够满足大多数人的需求。但是，在某些情况下，该模式的效率可能不理想，甚至无法让人正常使用移动设备。用户在使用移动设备时，由于需要用手与设备进行交互，导致用户无法抽出手来执行其它任务。举个例子，人们在做菜时，想要切换手机上的歌曲，或想在互联网上查找相应菜谱，他们就不得不停下手中的活来操作设备。对于这种双手正在忙碌或双手具有残疾的人来说，这种交互模式可能很局限，甚至是完全无法操作。面对此类情况，我们要找到一个更适合的交互方法，该方法可以允许在不触摸到屏幕的情况下操作移动设备，例如高亮显示用户的下一步操作来为有视力障碍或视力不佳的人增加可操作性[^1,2]。有一种更有效的操作方法是使用基于语音识别的语音命令来执行操作，这种人机交互方式不需要用户使用双手，该方式不仅已经在移动设备上广泛使用，而且还被用于构建智能的交互环境[^3] 。 Android系统本身就已经可以通过语音识别来执行预先定义功能来与设备进行交互，例如打开浏览器或拨打电话。然而，打开应用程序之后，继续对应用程序的操作却存在很多限制。例如，可以通过系统的语音命令来打开某些个应用程序，但是，在大多数情况下，对这些应用程序的继续操作还是要通过触摸屏幕来执行操作。

鉴于上述情况，本文的目标是开发一种软件工具，以促进用户与设备的交互效率，不仅能够帮助到特定条件下有触摸困难的人，而且对于一般用户来说，他们将有一种新的更有吸引力的人机交互方式，该方式允许用户在不适合触摸操作的情况下操作该设备。 随着基于语音识别的语音命令操作的应用程序的开发，用户可以在设备屏幕的任何区域模拟人机交互事件，也可以操作之前仅通过Android原生系统的语音识别功能无法操作的任何功能（例如，进入应用程序触发按钮、菜单事件等）。

本文的组织结构如下：在第2节中，我们将介绍语音识别系统中涉及的主要概念以及Android语音识别API的主要功能。 在第3节中，介绍了将要开发的应用程序。 在第4节中，设计实验测试了应用程序的识别和操作效率，并对实验结果进行了统计分析。 最后，在第5节中，对未来将要进行的工作做出了展望。

## 2.语音识别系统和Android语音识别API

语音识别系统采用自动语音识别技术（Automatic Speech Recognition），该技术是一种将人的语音转换为文本的技术。该系统是一种典型的模式识别过程，语音模式识别，包括两个阶段[^4]：训练和识别。根据训练数据（单词或短语），生成参考模型（声学模型），在这个模型中分别标识了每个数据。在识别阶段，从测试数据（语音信号）中获得测试模型，然后将这些测试模型与训练过程中生成的参考模型进行比较，并使用相应的决策规则来确定匹配是否正确[^4]。近年来，由于信号处理、编程算法、计算机体系结构和硬件领域研究飞速发展，语音识别系统取得了重大的进展[^5,6]。

Android操作系统具有语音识别API，该API由Google通过Android SDK提供。目前，API不需要互联网连接就可以进行语音识别，这是近几年才发生的事情。最初，这种连接是必要的，因为语音识别是在Google服务器上进行的识别。现在，设备本身提供了执行识别所需的参考模型，由Google自己提供。 Android语音识别API支持多种语言，只需在设备设置中指定该功能所需的语言即可。系统将下载特定的声学和语言模型（如本节开头所述），即允许在移动设备上离线执行语音识别。由于API提供的识别是与讲话者无关的，因此不需要执行训练步骤。

## 3.应用开发

在本节中，将介绍应用程序开发过程的详细信息，例如用户界面定义，可用配置选项，API遇到的困难以及为规避它们而采取的解决方案。

### 3.1.语音界面交互方法

为了实现论文的研究目标，我们需要找到一种方法，这个方法可以有效地从语音的角度与移动设备进行有效的交互，而不需要在屏幕上进行触摸。我们找到的解决方案是使用有行、列标识的网格来分割屏幕，如图1所示，展示了具有网格和空间标识符的应用布局。通过这种方式，用户可以在视觉上识别他们想要触摸的点，发出某个位置（行、列）指令，并由应用程序在所选位置模拟点击操作。以这种方式，我们的语音指令可以直接操作屏幕的每一部分，以便可以选择所有显示的元素（例如，链接、表单域、按钮等）。在这种情况下，如果用户发音为“E7”，则在方形E7的中心模拟触摸，在图1所示的示例中， 相当于点击搜索按钮。为了便于使用该设备，还定义了具有特定功能和快速访问的命令。表1列出了这些命令及其各自的操作。

![](/assets/pic1.png)![](/assets/tab1.png)

### 3.2.用户设置

为了满足用户设备型号和屏幕尺寸不同的需求，我们增加了一个配置模式，如图2所示，其中可以修改网格布局。

![](/assets/pic2.png)

在设置屏幕中，可以选择网格线的显示颜色，线条的透明度以及行和列之间的间距。 这些选项允许用户配置网格，以便更好地满足其需求和环境。 修改后的布局示例如图3所示。

![](/assets/pic3.png)

### 3.3语音识别API的限制

Android语音识别API，它被设计用来执行识别给定语言中的句子和单词。因此，它使用的参考模型是人类日常表达的语言，例如，“明天的天气如何？”或“给玛丽亚打电话！”。然而，研究中所开发的应用程序，在每次发出语音指令时都有必要在字母后面加上一个数字，在大多数情况下，这在传统的语言模型中没有多大意义，并且可能会影响识别效率。这种行为已经在开发应用程序的测试阶段得到验证，当试图通过说出字母和数字来选择行和列时，API会将所说的单词与短句相关联。例如，在大多数时候发音“B3”时，API会识别“Beatriz”。另一个反复出现的例子是在发音“A2”时，它被识别为“há dois”时。另一方面，在说出类似诸如汽车模型的名称“C3”的这些情况下，识别发生得相当准确。一般来说，API的这种行为不能被认为是错误的，因为它本身就为此目的而设计的。但是，为了满足本研究的要求，需要特殊处理。

当分析识别数据时，识别出当发音某些字母后面跟着数字时，识别的单词重复其自身并且总是对应于在发音方面在语音上类似的单词。正如之前引用的，在大部分时间发音时，“Beatriz”这个词被认可。为了克服这个问题，在这些情况下进行了行/列（字母/数字）和识别的可能组合之间的映射。通过这种方式，应用程序可以执行预期的命令，即使API所识别的内容不完全是发音的字母和数字。也就是说，考虑前面的例子，当API识别“Beatriz”时，应用程序认为用户发音为“B3”并模拟屏幕区域的触摸。

正如所开发的应用程序的要求之一，它不会干扰用户使用的主应用程序的执行，它必须在后台运行。但是，在应用程序开发阶段，检测到API在一段时间后停止了发现服务，就好像SpeechRecognizer进程已终止一样。为了解决这个问题，onReadyForSpeech方法中已经包含了一个检查，如果识别没有在一段时间后运行，它将重新启动，以确保识别服务在后台持续运行。

## 4.实验结果分析

为了分析开发应用程序的效率，使用扬声器进行语音识别测试，使用和不使用前一节中介绍的映射。 为此，应用程序配置了6行（A-F）和4列（1-4），对于网格的每个可能位置发音10次重复。 也就是说，A1重复10次，A2重复10次，A3重复10次，F4重复10次。 对于所分析的每种策略，该过程总计240次重复：没有映射（直接API结果）和映射（处理API结果）。 表2显示了所进行的测试的准确性。

![](/assets/tab2.png)

重要的是要注意，即使在映射的情况下，API认可的语音词与发音非常不同的情况也不被认为是正确的。 考虑到对每个策略进行了240次重复并且在表2中给出了值，观察到API的直接结果的命中率为72％，而在本工作中采用的映射中，命中率 是95％。 利用获得的数据，最初绘制出置信区间图并生成命中率，统计置信度为95％（图4）。

![](/assets/pic4.png)

首先，从前面的图表可以得出结论，有证据表明技术（有/无映射）对命中率造成的影响存在差异。这是因为，由于前面的区间之间没有交集，可以说在95％的情况下，使用“With mapping”技术获得的准确率将比其他技术获得的准确率更高。然而，为了更安全地确认这一初步结论，并找出所用技术对残差的影响是否仅仅是偶然发生的，本实验还考虑了统计显着性检验7。通过方差分析（方差分析）[^7]对效果进行分析的结果证实，不是实验误差，通过应用本实验中考虑的不同技术获得不同准确率的结果，结果是显着的。还选择了正态性和同方差性检验。有了这些结果，因此确认了在识别过程中获得的命中率不相同的假设。并且应用“有映射”策略的效果除了显着之外，还会导致命中率高于“无映射”方法所引发的命中率。

## 5.结论

综上所述，可以认为开发的应用程序行为有效，实现其主要目标是仅通过语音命令允许与Android系统的设备完全交互。系统和应用程序内的导航性能以令人满意的方式进行，允许以正确的方式访问屏幕的所有元素。此外，定制网格使应用程序更适合每个用户的需求。虽然Android的识别API是独立扬声器，无需进行保存每个用户培训，在此工作的下一步将与更多的用户数量来进行新的识别测试，以评估API的性能将保持。此外，应用程序的可用性将在其他设备模型中进行评估。

Android语音识别API为应用程序开发提供了所需的支持。尽管应用特异性需要的字母识别后面数字，这不是API的默认行为，与字之间的映射的实施，有可能解决这种情况，并获取应用程序的正常运行。在继续这项工作中将要分析的另一个策略是分两步进行确认，第一个是行（字母），第二个是列（数字）。采用这种新方法，实施的地图可能不再需要。另一方面，您需要评估这会增加应用程序响应时间。

关于Android必须强调的一点是操作系统为软件开发人员提供的本地功能集。 Android可让您超越应用程序的正常生命周期，并执行诸如在屏幕上模拟触摸等任务，甚至通过覆盖自己的应用程序覆盖系统界面和其他应用程序。



[^1]: Agebson R. Façanha, Maria da C. C. Araújo, Windson Viana, and Mauro C. Pequeno. 2012. Le brailleTWT: Providing Visual Accessibility to Twitter on Touchscreen Devices. In Proceedings of the 18th Brazilian Symposium on Mul- timedia and the Web \(WebMedia ’12\). ACM, New York, NY, USA, 313–320. [https://doi.org/10.1145/2382636.2382703](https://doi.org/10.1145/2382636.2382703)

[^2]: Alexandre Soares Silva and Jocimara Paiva Grillo. 2016. Um framework de desenvolvimento de jogos digitais para dispositivos móveis voltados à inclusão de jogadores com deficiência visual. In XV Simpósio Brasileiro de Jogos e Entrenimento Digital – SBGames. SBC, 202-205.

[^3]: Artur Henrique Kronbauer and Vinicius Costa. 2015. A New Approach to the Interpretation of Voice Commands. In Proceedings of the 21st Brazilian Symposium on Multimedia and the Web \(WebMedia ’15\). ACM, New York, NY, USA, 217–224. [https://doi.org/10.1145/2820426.2820431](https://doi.org/10.1145/2820426.2820431)

[^4]: Wu Chou and Biing-Hwang Juang. 2003.Pattern recognition in speech and language processing. CRC Press.

[^5]: Mike Schuster. 2010. Speech recognition for mobile devices at Google. In Pacific Rim International Conference on Artificial Intelligence. Springer, 8-10.

[^6]: Xin Lei, Andrew W Senior, Alexander Gruenstein and Jeffrey Sorensen. 2013. Accurate and compact large vocabulary speech recognition on mobile devices. In Interspeech.

[^7]: Raj Jain. 1991.The Art of Computer Systems Performance Analysis: Techniques for Experimental Design, Measurement, Simulation and Modeling. John Wiley & Sons.

